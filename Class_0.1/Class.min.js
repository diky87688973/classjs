/*! Class v0.1 JavaScript OOP Library */
!function(a,b){function r(){}function t(){"develop"==Y.getMode()&&u.apply(this,arguments)}function u(b){var d,e,f,c=a.console;if(c){if(d=new Date,e=["%c",d.getFullYear(),"-",d.getMonth()+1,"-",d.getDate()," ",d.getHours(),":",d.getMinutes(),":",d.getSeconds(),".",d.getMilliseconds(),"::%c "].join(""),s.ie)return b=(e+b).replace(/%(?:c|s|d|i|f|o|O)/g,""),c.log&&c.log(b),void 0;f=[e+b,"color:yellowgreen","color:lightslategray"].concat(Array.prototype.slice.call(arguments,1)),c.log?c.log.apply(c,f):c.info?c.info.apply(c,f):c.debug&&c.debug.apply(c,f)}}function v(a){if(null==a)return!0;for(var b in a)if(b&&a.hasOwnProperty(b))return!1;return!0}function w(a,c){var d,e,f;switch(!0){case null===a||a===b:case"number"==typeof a:case"string"==typeof a:return a;case"function"==typeof a||a instanceof Function:return c?function(){return a.apply(this,arguments)}:a;case a instanceof RegExp:return d=new RegExp("/"+a.source+"/"+a.flags),d.lastIndex=a.lastIndex,d;case"object"==typeof a&&!!a:case a instanceof Array:e={};for(f in a)f&&a.hasOwnProperty(f)&&(e[f]=c?w(a[f]):a[f]);return e}return a}function x(a,c,d){if(null!=a){var e,g,h,f=0;if(a instanceof Array||"number"==typeof a.length)for(g=a.length;g>f&&(e=c.call(d||a[f],f,a))===b;++f);else for(h in a)if((e=c.call(d||a[h],h,a))!==b)break;return e}}function z(){return{_es:{},_len:0,get:function(a){return this._es[a]?this._es[a].value:null},put:function(a,b){var c=this.get(a);return this.has(a)?this._es[a].value=b:(this._es[a]={key:a,value:b,toString:function(){return"{"+this.key+":"+this.value+"}"}},this._len++),c},has:function(a){return a in this._es&&this._es.hasOwnProperty(a)},remove:function(a){var b=null;return this.has(a)&&(b=this._es[a].value,delete this._es[a]&&this._len--),b},clear:function(a){if(a)for(var b in this._es)delete this._es[b];this._es={},this._len=0},size:function(){return this._len},each:function(a,c){var e,d=b;for(e in this._es)if(d=a.call(c||this._es[e],e,this._es[e].value,this._es),d!==b)return d;return d},getKeySet:function(){var a=[];return this.each(function(){a.push(this.key)}),a},destroy:function(){this._es=this._len=this.clear=this.destroy=this.each=null,this.get=this.getKeySet=this.has=this.put=this.remove=this.size=null,t("[destroy] map object")}}}function B(a,b,c){if(4===a.readyState){a.onreadystatechange=s.ie<7?r:null;var d=a.status;d>=200&&300>d||304===d||0===d||1223===d?b&&b.call(a,a.responseText||a.responseXML||""):c&&c.call(a,a)}}function C(a,b,c){var f,g,h,d=arguments.length-1,e=arguments[d];for("boolean"==typeof c?d--:e=!0,f=arguments[1],g=1;f&&d>=g;){for(h in f)null==h||!e&&h in a||(a[h]=f[h]);f=arguments[++g]}return a}function F(b,c){var d=c||"gEval/"+(new Date).getTime();return function(){if(s.chrome)return D||(D=new Error("Gets the error line number in this file"))?a.eval(null!=d?b+g+d:b):null;try{return D||(D=new Error("Gets the error line number in this file"))?a.eval(null!=d?b+g+d:b):null}catch(e){var f=(c||"").replace(/\bclasses\/|\.class$/g,"");Ab(e,b,f)}}()}function Z(a,b,c,d){var f,g,h,i,j,k,l,e=arguments.length;switch(e){case 0:case 1:throw new Fb('类 "'+a+'" 创建异常, 参数列表错误.',a);case 2:d=b,b=c=null;break;case 3:d=c,f="string"==typeof b?"Object"==b?Object:P[b]:b,hb(f)||f===Object?(b=f,c=null):(c=b instanceof Array?nb(b):f?[f]:null,b=null),f=null;break;case 4:f="string"==typeof b?"Object"==b?Object:P[b]:b,hb(f)||f===Object?(b=f,f=[].concat(c),c=nb(f)):(f=[b,c],c=nb(f),b=null),f=null;break;default:for(g=[],f="string"==typeof b?"Object"==b?Object:P[b]:b,hb(f)||f===Object?b=f:jb(b)&&(g.push(b),b=null),h=2,i=arguments.length-1;i>h;++h)g.push(arguments[h]);d=arguments[e-1],c=nb(g),g=f=null}return b=b||Z.Object||Object,j=a.substring(a.lastIndexOf(".")+1),k=ab(Z,d,j),bb(d,b[V]||Object),k[V]=d,k.className=a,k.superclass=b,k.constructorName=j,k.toString=$("[class "+a+"]"),k.getInterfaces=$(c||[]),k.toSource=$(xb.last()),k[X]=d[X],k[X].constructor=k,k[X].getClass=$(k),eb(k,c),P[a]=k,l=gb(a.substring(0,a.lastIndexOf("."))),l[j]=k,k}function $(a){return function(){return a}}function ab(a,b,c){function d(){var e,f,g,h,i,d=arguments.callee;if(this instanceof d||this===_){e=new b;for(f in e)g=e[f],f&&e.hasOwnProperty(f)&&g instanceof Function&&(g[W]=f);return h=e[c],delete e[c],e[T](kb.bind(lb(e,e,{})),e),h.apply(e,arguments),_[d.className]||(_[d.className]=1,i=h+"",i=a.Compiler.prototype.replaceNotes(i,""),i=a.Compiler.prototype.replaceString(i,""),i=a.Compiler.prototype.replaceRegExp(i,""),/\bSuper\s*\([^\)]*\)/.test(i)||u("%c[语法检测] - "+d.className+" 类中缺少 Super(...) 调用","color:darkorange")),e}return b.apply(this,arguments)}return d.instance=function(){return this.apply(_,arguments)},d}function bb(a,b){function c(){}c[X]=b[X],a[X]=new c,a[X].constructor=a,a["superclass"]=b}function cb(){if(this instanceof cb)throw new Hb("不能用接口创建实例","BaseInterface")}function db(a,b){var c,d,e,f;bb(b,cb),c={},b.call(c);for(d in c)d&&c.hasOwnProperty(d)&&c[d]!==Function&&(b[d]=c[d]);b.interfaceName=a,b.toString=$("[interface "+a+"]"),b.toSource=$(xb.last()),P[a]=b,e=a.substring(a.lastIndexOf(".")+1),f=gb(a.substring(0,a.lastIndexOf("."))),f[e]=b}function eb(a,b){function c(){}var d,e,h,i,g,j,k,l;if(!b||0==b.length)return!0;c[X]=a[X],d=new c;try{for(e=a;e&&e!==Object;)e[V].call(d),e=e.superclass}catch(f){throw new Fb("检测接口实现异常:"+f.message,a.className)}for(g=0,j=b.length;j>g;g++){h=b[g],i={},h.call(i);for(k in i)if(i.hasOwnProperty(k)&&i[k]===Function&&(l=d[k],!(k in d&&l!==Function&&l instanceof Function)))throw new Fb('类 "'+a.className+'" 未实现接口方法:'+h.interfaceName+"."+k,a.className)}return!0}function fb(){}function gb(b){var c,d,e,f;if(!b)return a;for(c=b.split(/\.+/),d=a,e=0,f=c.length;f>e;e++)d[c[e]]||(d[c[e]]=new fb),d=d[c[e]];return d}function hb(a){return!!(a instanceof Function&&a.superclass&&a[V])}function ib(a){return a instanceof fb}function jb(a){return!!a&&a.superclass===cb}function kb(){var e,f,g,h,i,a=this.thisObject,b=this.currObject,c=b.getClass().superclass,d=null;if(c===Object)d={};else{e=c[V],d=new e,f=kb.bind(lb(a,d)),d[T](f,a),f=null,g=d[c.constructorName],delete d[c.constructorName];for(h in d)h&&d.hasOwnProperty(h)&&(i=d[h],i instanceof Function&&(i[W]=h),h&&!a.hasOwnProperty(h)&&(a[h]=i));b[T](mb(a,d),a),g.apply(a,arguments)}}function lb(a,b){return{thisObject:a,currObject:b}}function mb(a,b){function c(){var a=c.caller,b=a[W],d=c[S];if(!b)throw new Hb("Super(...)调用异常, 请勿在非成员方法中调用Super(...)",c.getClass().className);for(;d;){if(a=d[b],a instanceof Function&&(d.hasOwnProperty(b)||d.getClass()==Z.Object))return a.apply(c[R],arguments);if(!(d=d[U]))break;d=d(),d=d[S]}throw new Hb('找不到方法:"'+b+'"',c.getClass().className)}var d,e;c[R]=a,c[S]=b;for(d in b)d&&(e=b[d],e instanceof Function&&(e=e.bind(a)),c[d]=e);return c}function nb(a){var c,d,e,f,b=[];for(e=0,f=a.length;f>e;++e){if(c=a[e],d="string"==typeof c?P[c]:c,!jb(d))throw new Fb('The "'+c+'" is not a interface.');b.push(d)}return b}function pb(a){ob[a]=1}function qb(a){delete ob[a]}function rb(a){return ob[a]}function sb(a,b,c,d){var e=Y.getFullClassPath(a)+".js";t("%cLoading Class File:%c "+e,"color:blue","color:#444"),I.loadFile(e,function(a){b&&b.call(this,a)},function(){c&&c.call(this)},{async:d,mimeType:"text/javascript",headers:{accept:"text/javascript"}})}function tb(a,b){var c,d,e,f;switch(!0){case"string"==typeof a:if(c=j(a).split(","),1===c.length&&P[c[0]])return b&&b(),void 0;break;case a instanceof Array:c=a;break;default:return}if(c&&0!=c.length)for(d={count:c.length},e=0,f=c.length;f>e;++e)ub(c[e],b,!1,d)}function ub(a,b,c,d){var e,f;return a=j(a),P[a]?(--d.count<=0&&b&&b(),!0):(e=Y.getFullClassPath(a),f=e?M[e.replace(/^\//,"")]:null,f instanceof Function?(u("[加载类文件] - 来自预加载: "+a),M[e]=null,delete M[e],f(Z),--d.count<=0&&b&&b(),void 0):rb(a)?(Z.on("ClassLoaded",function(c){a==c&&--d.count<=0&&b&&b()}),!0):(Q.push(a),pb(a),sb(a,function(c){if(qb(a),Z.fire("ClassFileLoaded",[a,c]),Y.getCompiler().build(c,function(b){Z.fire("ClassFileBuilded",[a,b]),yb(b,a)},function(b){var c=b[0],d=b[1],e=b[2],f=b[3];throw new Gb("类文件编译异常:"+e,a,"",c,d,f)}),!P[a])throw new Eb("类文件载入异常",a);--d.count<=0&&b&&b()},function(){throw qb(a),404==this.status?new Db("找不到类文件错误",a):new Cb("类文件载入异常",a)},c),void 0))}function yb(a,b){var d,e,f,g,h,c=[];a=a.replace(wb,function(a,b,d,e,f){var j,k;return c.push(f),/^Interface$/.test(d)?a:(j=(f||"").split(".").slice(-1)[0],vb[2]="this."+j+"=this."+j+"||function(){Super();};",k=a+vb.join(""),vb[2]=null,k)}),d="classes/"+(c.length>0?c.join("&"):b),c.length>1&&(d=d.length>80?d.substring(0,80)+"..":d),d+=".class",e=Y.getCompiler(),f=e.replaceNotes(a,function(a){return a.replace(/[^\n]+/g,"")}),f=e.replaceString(f,function(a){return a.charAt(0)+a.charAt(0)}),f=e.replaceRegExp(f,function(a){return a.replace(/[^\n]+/g,"")}),e=null,g=[/,(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*[)}\]]/g,/;(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*[)\]]/g],x(g,function(a){f.replace(g[a],function(a,b){var e,c=f.substring(0,b+1);return c=c.split(/\n/),e=c.last()+"<<<<error>>>>"+f.substring(b+1).split(/\n/).first(),u("%c[不规范语法文件]:"+d+":"+c.length+"\n"+e,"color:red"),""})}),xb.push(a);try{h=F(a,d),Z.fire("ClassLoaded",[b,h])}finally{xb.pop()}return h}function zb(a){for(var c,d,f,b=a,e=[];b instanceof Object&&!(b instanceof Function)&&b[U];){e.push(b.getClass().className),d=b[U](),c=d[S],d[S]=null,d[R]=null,b[T](null,null);for(f in b)null!=f&&(null!=d[f]&&(d[f]=null),b[f]=null,delete b[f]);b.__proto__=null,delete b.__proto__,b=c,c=d=null}t("%c[对象销毁] "+e.join(" >> ")+" >> Object","color:darkgrey"),e=b=null}function Ab(a,b,c){var i,j,d=c||"",e=0,f=0,g="",h=a.stack.match(/(?:at |@)[^\n]+?(?:\/classes\/([^\n]+?)\.class):(\d+):?(\d+)?[^\d]*\n/)||[];return d=d||h[1],i=P[d],i?(a.lineNumber=h[2]>>0,a.columnNumber=h[3]>>0,g=i.toSource()):a.columnNumber+=1,e=a.lineNumber,f=a.columnNumber,g=b||g||"",j=g.split(/\n/)[e-1],j=j?j.substring(0,f-1)+">>> "+j.substring(f-1,f)+" <<<"+j.substring(f):"",arguments.callee.caller.caller===F?new Kb("执行 eval 异常:"+a,d,"",a.lineNumber,a.columnNumber,j):new Ib("运行时异常:"+a,d,"",a.lineNumber,a.columnNumber,j)}function Bb(a,b,c,d,e,f){var i,g=new Error,h=g.stack.split(/\n/).slice(2).join("\n").trim();d||e||f||!h||(i=h.match(/(?:at |@)[^\n]+?(?:\/classes\/([^\n]+?)\.class):(\d+):?(\d+)?[^\d]*\n/)||[],b=i[1]||b,d=i[2]>>0,e=i[3]>>0),this.message=a||"",this.description=this.message,this.columnNumber=e>>0,this.lineNumber=d>>0,this.number=this.lineNumber,this.fileName=b||"",this.stack=h||this.stack||"",this.errMsg=this.message,this.errClassName=this.fileName,this.errMethodName=c?c+"(...)":"",this.errLine=this.lineNumber,this.errColumn=this.columnNumber,this.errCode=f||"",u(["%c ","错误类型: "+this.name,"错误信息: "+this.errMsg,"错误文件: "+this.errClassName+(this.errMethodName?"."+this.errMethodName:""),"错误位置: "+this.errLine+" 行 "+this.errColumn+" 列","错误代码: "+this.errCode,"堆栈信息:\n"+this.stack].join("\n"),"color:red")}function Cb(){this.name="ClassFileLoadingError",Bb.apply(this,arguments)}function Db(){this.name="ClassFileNotFindError",Bb.apply(this,arguments)}function Eb(){this.name="ClassFileParseError",Bb.apply(this,arguments)}function Fb(){this.name="ClassInitError",Bb.apply(this,arguments)}function Gb(){this.name="CompilerError",Bb.apply(this,arguments)}function Hb(){this.name="InvokeError",Bb.apply(this,arguments)}function Ib(){this.name="RuntimeError",Bb.apply(this,arguments)}function Jb(){this.name="InvalidCallingError",Bb.apply(this,arguments)}function Kb(){this.name="InvalidCallingEvalError",Bb.apply(this,arguments)}var i,j,k,l,m,n,o,p,q,s,y,A,D,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,_,ob,vb,wb,xb,c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^[\s\uFEFF\xA0]+/g,e=/[\s\uFEFF\xA0]+$/g,f=/[\s\uFEFF\xA0]+/g,g="\r\n\n// Dynamic Loading \n//# sourceURL="+location.protocol+"//"+location.hostname+(location.port?":"+location.port+"/":"/"),h=1;Function.prototype.bind instanceof Function||(Function.prototype.bind=function(a){var b=this;return function(){return b.apply(a,arguments)}}),Date.prototype.format instanceof Function||(Date.prototype.format=function(a){var b={y:this.getFullYear(),M:this.getMonth()+1,d:this.getDate(),h:this.getHours(),m:this.getMinutes(),s:this.getSeconds(),n:this.getMilliseconds()};return(a||"yyyy-MM-dd hh:mm:ss").replace(/(yyyy|M{1,2}|d{1,2}|h{1,2}|m{1,2}|s{1,2}|n{1,2})/g,function(a){return 2==a.length?("0"+b[a[0]]).substr("n"==a[0]?-3:-2):b[a[0]]})}),i=String.prototype.trim&&!String.prototype.trim.call("﻿ "),j=function(a){return(a+"").replace(f,"")},k=i&&String.prototype.trim||function(){return this.replace(c,"")},l=i&&String.prototype.trimLeft||function(){return this.replace(d,"")},m=i&&String.prototype.trimRight||function(){return this.replace(e,"")},n=function(){return this[this.length-1]},o=function(){return this[0]},p=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},q=function(a){for(var b=this.length-1;b>=0;b--)if(this[b]===a)return b;return-1},(!i||!String.prototype.trim)&&(String.prototype.trim=k),(!i||!String.prototype.trimLeft)&&(String.prototype.trimLeft=l),(!i||!String.prototype.trimRight)&&(String.prototype.trimRight=m),Array.prototype.last||Object.defineProperty(Array.prototype,"last",{value:n,writable:!1,enumerable:!1,configurable:!1}),Array.prototype.first||Object.defineProperty(Array.prototype,"first",{value:o,writable:!1,enumerable:!1,configurable:!1}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:p,writable:!1,enumerable:!1,configurable:!1}),Array.prototype.lastIndexOf||Object.defineProperty(Array.prototype,"lastIndexOf",{value:q,writable:!1,enumerable:!1,configurable:!1}),s={},s[function(a){return s["browserName"]=a.match(/\bchrome\/([\d.]+)/)?"chrome":a.match(/\bfirefox\/([\d.]+)/)?"firefox":a.match(/\bmsie ([\d.]+)/)?"ie":a.match(/\btrident\b.* rv:([\d.]+)/)?"ie":a.match(/\bopera\/([\d.]+)/)?"opera":a.match(/\bversion\/([\d.]+).*safari/)?"safari":"unknow"}(a.navigator.userAgent.toLowerCase())]=s.browserVersion=RegExp["$1"],s.ie&&(s.ieDocMode=document.documentMode||s.ie),y=function(){var a,b;try{a=new XMLHttpRequest,b=function(){return new XMLHttpRequest}}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP"),b=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(c){try{a=new ActiveXObject("Msxml2.XMLHTTP"),b=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(c){u("%c不能创建 XMLHttpRequest 对象","color:red")}}}b&&(y=b),b=null;try{return a}finally{a=null}},y(),A=function(){var b,a=document.createElement(s.ie?"img":"script");return a.setAttribute("src","/"),b=a.src.replace(/[\/]+$/,""),a.src="",function(c){if("/"==c)return b;try{return a.setAttribute("src",c||"./"),a.src.replace(/[\/]+$/,"")}finally{a.src=""}}}(),G=z(),H={getEventMap:function(){return G},on:function(a,b,c){c=c||Z.id("event-");var d=G.get(a);return d?d.put(c,b):(d=z(),d.put(c,b),G.put(a,d)),c},un:function(a,b){if(G.size()){if(arguments.length<=1)return G.remove(a),void 0;var c=G.get(a);c&&c.size()&&(c.remove(b),!c.size()&&G.remove(a))}},fire:function(a,b){var d,c=G.get(a);return c&&c.size()?(d=arguments.length,b=b instanceof Array?b:d>1?b&&b.callee&&null!=b.length?b:[b]:[],d=null,c.each(function(a,c){if("function"==typeof c){var e=c.apply(this,b||[]);if(!1===e)return e}},this)):(a=b=c=null,void 0)}},I={loadFile:function(a,b,c,d){var f,g,h,e=y();if(d=C({charset:"utf-8",async:!1,method:"GET",params:null,headers:null,mimeType:"text/xml",crossDomain:!1},d),f=null==d.params?null:d.params,"object"!=typeof f||v(f)||(g=[],x(f,function(a){null!=f[a]&&g.push(encodeURIComponent(a)+"="+encodeURIComponent(f[a]))}),f=g.join("&")),f&&/^GET$/i.test(d.method)&&(a+=/\?/.test(a)?"&"+f:"?"+f),d.username?e.open(d.method,a,!!d.async,d.username,d.password):e.open(d.method,a,!!d.async),d.mimeType&&e.overrideMimeType&&e.overrideMimeType(d.mimeType),d.crossDomain||(!d.headers&&(d.headers={}),d.headers["X-Requested-With"]="XMLHttpRequest"),/^POST|PUT$/i.test(d.method)&&e.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded;charset="+d.charset),d.headers)for(h in d.headers)h&&e.setRequestHeader(h,d.headers[h]);d.async&&(e.onreadystatechange=function(){B(e,b,c)}),e.send(/^GET$/i.test(d.method)||null==f?null:f),d.async||B(e,b,c)},loadScript:function(a,b,c,d){d=C({charset:"utf-8",defer:!1,async:!1,type:"text/javascript",parent:null},d);var e=document.createElement("script");return e.type=d.type,d.id&&(e.id=d.id),e.charset=d.charset,d.defer&&(e.defer=!0),d.async&&(e.async=!0),c instanceof Function&&(e.onerror=c),b instanceof Function&&("addEventListener"in e?e.onload=b:"readyState"in e?e.onreadystatechange=function(){var a=this.readyState;("loaded"==a||"complete"==a)&&(e.onerror=e.onload=e.onreadystatechange=null,e=d=c=null,b(),b=null)}:e.onload=b),a&&(e.src=a),(d.parent||document.getElementsByTagName("head")[0]).appendChild(e),e},execScript:function(a,b){if(a.trim()){var c={charset:b||"utf-8"},d=this.loadScript(null,null,null,c);switch(this.execScript.__flag){case 1:d.appendChild(document.createTextNode(a));break;case 2:d.text=a;break;default:try{d.appendChild(document.createTextNode(a)),this.execScript.__flag=1}catch(e){d.text=a,this.execScript.__flag=2}}return d}}},J=null,K="operate",L="",M={},N={},O="*",P={},Q=[],R=".THIS.",S=".SUPER.",T=".SET.SUPER.",U="getSuper",V=".CLASS.BODY.",W=".METHOD.NAME.",X="prototype",Y={init:function(){C(Q,{toString:function(){var a=[];return x(this,function(){var b=this;a.push("/"+Y.getFullClassPath(b)+".js")}),a.join(",\n")}});var a=document.getElementsByTagName("script");x(a,function(){var b,c,d,e,f,g,h,i;if(/\bClass(?:[-.]min)?\.js\s*$/.test(this.src)){L=(this.getAttribute("home")||"").trim().replace(/\/+$/,""),L=L?L+"/":null,L||(L=this.getAttribute("src").replace(/\bClass(?:[-.]min)?\.js\s*$/,"")||"./"),K=/^develop$/i.test((this.getAttribute("mode")||"").trim())?"develop":"operate",b=(this.getAttribute("compiler")||"").trim(),b&&(c=Z.instance(b),Y.setCompiler(c)),d=(this.getAttribute("classpath")||"").trim().split(/;+/);for(e in d)f=d[e],g=f.split(/=/),h=g[0].trim(),g.length>1?(i=g.slice(1).join("=").trim().replace(/\/+$/,""),N[h]=i?i+"/":""):h&&(i=h.replace(/\/+$/,""),N[O]=i?i+"/":"");return!1}}),a=null},getRoot:function(){return L},getHome:function(){return L},getMode:function(){return K},getClassPath:function(){return N},getCompiler:function(){return J?J:J=Z.ECMAScript6Compiler?new Z.ECMAScript6Compiler:new Z.Compiler},setCompiler:function(a){a instanceof Z.Compiler?(J=a,t("%c编译器 "+a.getClass().className+" 装载成功!","color:blue;")):a&&t("编译器设置不正确, 编译器必须是 Class.Compiler 对象或其派生对象")},getInnerSpace:function(){return P},getLoadingFile:function(){var b,a=[];for(b in ob)b&&ob.hasOwnProperty(b)&&a.push(b);return a},getUsingFileNameList:function(){return Q},addClassPackMap:function(a){C(M,a),u("[载入打包类文件] - 成功")},loadClassPack:function(a,b,c,d){u("[载入打包类文件] - "+a),b=!(b===!1),I.loadFile(a,function(e){b?setTimeout(function(){yb(e,"class-pack")},0):yb(e,"class-pack"),c&&c(),c=d=e=a=b=null},d,{headers:{accept:"text/javascript"},async:b})},getFullClassPath:function(a){var b,c=a.split("."),d=N[c[0]];return/Class|Fan/.test(c[0])?(b=c.slice(1).join("/"),"string"!=typeof d&&(d=Y.getHome()+"src/")):(b=c.join("/"),"string"!=typeof d&&(d=N[O]||"")),d+b}},_={},ob={},vb=["/* [embedded code] */","var Super=null,This=null;",null,'this["'+T+'"]=function(s,t){Super=s;This=t;};','this["'+U+'"]=function(b){return b?Super["'+S+'"]:Super;};',"/* [embedded code] */"],wb=/((?:^|[,;\(\){}=]|(?:\*[\/])|(?:\/\/[^\n]*\n))\s*(Class|Interface)(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\((?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*(['"])([a-zA-Z0-9._$]+)\3(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*(?:,(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*[a-zA-Z0-9._$]+(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*)*?,(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*function(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\((?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\)(?:\s|\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*{)/g,xb=[],bb(Bb,Error),bb(Cb,Bb),bb(Db,Bb),bb(Eb,Bb),bb(Fb,Bb),bb(Gb,Bb),bb(Hb,Bb),bb(Ib,Bb),bb(Jb,Bb),bb(Kb,Bb),a.Class=Z,a.Import=tb,a.Interface=db,a.Package=gb,Z.id=function(a){return(a||"")+""+h++},Z.on=function(){return H.on.apply(H,arguments)},Z.un=function(){return H.un.apply(H,arguments)},Z.fire=function(){return H.fire.apply(H,arguments)},Z("Class.Object",function(){var a=null,b=null;this["Object"]=function(){a()},this[T]=function(c,d){a=c,b=d},this[U]=function(b){return b?a[S]:a}}),Z.Object.prototype.toString=function(){return"[object "+this.getClass().className+"]"},Z.Object.prototype.destroy=function(){setTimeout(function(){zb(this)}.bind(this),0)},Z("Class.Compiler",function(){var a=null,b=null;this["Compiler"]=function(){a()},this[T]=function(c,d){a=c,b=d},this[U]=function(b){return b?a[S]:a}}),Z.Compiler.prototype.processKeyword=function(){},Z.Compiler.prototype.processIdentifier=function(){},Z.Compiler.prototype.processFunction=function(){},Z.Compiler.prototype.insertCodeAtIndex=function(){},Z.Compiler.prototype.build=function(a,b){return b&&b(a),a},Z.Compiler.prototype.replaceNotes=function(a,b){return a.replace(/(\/\*[\s\S]*?\*\/|\/\/[^\n]*(?:\n|$))*/g,b)},Z.Compiler.prototype.replaceString=function(a,b){return a.replace(/('[^']*'|"[^"]*")/g,b)},Z.Compiler.prototype.replaceRegExp=function(a,b){return a.replace(/(\/[^\/]+\/)*/g,b)},C(Z,Y),C(Z,s),Z.noop=r,Z.Extends=bb,Z.checkImplements=eb,Z.isClass=hb,Z.isPackage=ib,Z.isInterface=jb,Z.forName=function(a){if(hb(a))return a;var b=P[a];return b||tb(a),b=P[a]},Z.instance=function(a){var c,e,d=Z.forName(a);return d&&(e=Array.prototype.slice.call(arguments,1),c=d.instance.apply(d,e)),c||null},Z.THIS=R,Z.SUPER=S,Z.SET_SUPER=T,Z.GET_SUPER=U,Z.Exception=Bb,Z.ClassFileLoadingError=Cb,Z.ClassFileNotFindError=Db,Z.ClassFileParseError=Eb,Z.ClassInitError=Fb,Z.CompilerError=Gb,Z.InvokeError=Hb,Z.RuntimeError=Ib,Z.InvalidCallingError=Jb,Z.InvalidCallingEvalError=Kb,Z.printError=Ab,Z.Loader=I,Z.parseClass=yb,Z.gEval=F,Z.xhr=y,Z.map=z,Z.log=t,Z.apply=C,Z.each=x,Z.cloneObject=w,Z.getAbsPath=A,Z.parseFunction=function(a){try{return a instanceof String||"string"==typeof a?Z.gEval("("+a+"\n)"):a}catch(b){}return a},Y.init(),"function"==typeof define&&define.amd&&define.amd.Class&&define("Class",[],function(){return Z})}(window);